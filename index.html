<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>乙兆營造 | Yi Zhao Construction | 專業建築工程</title>
    <meta name="description" content="乙兆營造專注於高品質住宅、廠房興建與公共工程。秉持日本職人精神，提供精準施工品質。">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Noto Sans TC', 'sans-serif'],
                        eng: ['Montserrat', 'sans-serif'],
                    },
                    colors: {
                        jp: {
                            blue: '#003366',    // 勝色 (深藍)
                            light: '#F4F5F7',   // 絹鼠 (極淺灰背景)
                            gray: '#888888',    // 銀鼠 (輔助文字)
                        }
                    },
                    letterSpacing: {
                        'jp-wide': '0.15em',
                    }
                }
            }
        }
    </script>
    <style>
        /* 隱藏滾動條但保持功能 */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="font-sans text-gray-700 antialiased bg-white selection:bg-jp-blue selection:text-white">

    <nav class="fixed w-full z-40 bg-white/95 backdrop-blur-sm border-b border-gray-100 shadow-sm transition-all duration-300">
        <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="flex justify-between items-center h-20">
                <a href="#" class="flex items-center gap-4 group">
                    <img src="logo.png" 
                         alt="乙兆營造 Logo" 
                         class="h-10 w-auto object-contain transition group-hover:opacity-80">
                    <div class="flex flex-col border-l border-gray-300 pl-4 h-8 justify-center">
                        <span class="font-bold text-lg text-jp-blue tracking-widest leading-none">乙兆營造</span>
                        <span class="font-eng text-[10px] text-jp-blue font-bold tracking-[0.2em] uppercase mt-1">Yi Zhao Construction</span>
                    </div>
                </a>
                
                <div class="hidden lg:flex space-x-12 items-center">
                    <a href="#about" class="group flex flex-col items-center">
                        <span class="font-eng text-[10px] text-jp-blue font-bold tracking-widest mb-1 opacity-50 group-hover:opacity-100 transition">ABOUT</span>
                        <span class="text-sm font-medium text-gray-600 group-hover:text-jp-blue transition">關於乙兆</span>
                    </a>
                    <a href="#services" class="group flex flex-col items-center">
                        <span class="font-eng text-[10px] text-jp-blue font-bold tracking-widest mb-1 opacity-50 group-hover:opacity-100 transition">SERVICE</span>
                        <span class="text-sm font-medium text-gray-600 group-hover:text-jp-blue transition">專業服務</span>
                    </a>
                    <a href="#ongoing" class="group flex flex-col items-center">
                        <span class="font-eng text-[10px] text-jp-blue font-bold tracking-widest mb-1 opacity-50 group-hover:opacity-100 transition">ON-SITE</span>
                        <span class="text-sm font-medium text-gray-600 group-hover:text-jp-blue transition">施工現場</span>
                    </a>
                    <a href="#projects" class="group flex flex-col items-center">
                        <span class="font-eng text-[10px] text-jp-blue font-bold tracking-widest mb-1 opacity-50 group-hover:opacity-100 transition">WORKS</span>
                        <span class="text-sm font-medium text-gray-600 group-hover:text-jp-blue transition">工程實績</span>
                    </a>
                    <a href="#contact" class="bg-jp-blue text-white px-6 py-2 rounded-sm font-medium hover:bg-opacity-90 transition shadow-md flex items-center gap-2">
                        <i class="fa-regular fa-envelope"></i>
                        <span>聯絡我們</span>
                    </a>
                </div>

                <button onclick="toggleMenu()" class="lg:hidden text-jp-blue p-2">
                    <i class="fa-solid fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-gray-100 absolute w-full left-0 shadow-lg">
            <a href="#about" class="block px-8 py-4 text-gray-600 border-b border-gray-50 hover:bg-gray-50">關於我們</a>
            <a href="#services" class="block px-8 py-4 text-gray-600 border-b border-gray-50 hover:bg-gray-50">專業服務</a>
            <a href="#ongoing" class="block px-8 py-4 text-gray-600 border-b border-gray-50 hover:bg-gray-50">施工現場</a>
            <a href="#projects" class="block px-8 py-4 text-gray-600 border-b border-gray-50 hover:bg-gray-50">工程實績</a>
            <a href="#contact" class="block px-8 py-5 text-jp-blue font-bold bg-gray-50">立即諮詢</a>
        </div>
    </nav>

    <header class="relative h-screen flex items-center overflow-hidden bg-gray-900">
        <div class="absolute inset-0">
            <img src="https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=2000&q=90" 
                 alt="Professional Site Manager" class="w-full h-full object-cover opacity-90">
            <div class="absolute inset-0 bg-gradient-to-r from-white/90 via-white/50 to-transparent"></div>
        </div>
        <div class="relative z-10 max-w-7xl mx-auto px-6 lg:px-12 w-full pt-20">
            <div class="max-w-2xl p-8 md:p-0">
                <p class="font-eng text-jp-blue font-bold tracking-[0.3em] text-sm mb-6 flex items-center gap-3">
                    <span class="h-[2px] w-8 bg-jp-blue"></span>
                    PROFESSIONAL CONTRACTOR
                </p>
                <h1 class="text-4xl md:text-6xl font-bold text-gray-800 mb-8 leading-tight drop-shadow-sm">
                    誠信築造，<br>
                    <span class="text-jp-blue">安心</span>的居住風景。
                </h1>
                <p class="text-gray-700 mb-12 text-lg leading-relaxed font-medium max-w-xl">
                    乙兆營造傳承職人精神，專注細節。<br>
                    從地基到天際，我們以嚴謹的態度，實踐您對家的想像。
                </p>
                <div class="flex gap-4">
                    <a href="#projects" class="bg-jp-blue text-white px-10 py-4 rounded-sm hover:bg-[#002244] transition tracking-widest text-sm font-bold shadow-lg">
                        瀏覽實績作品
                    </a>
                </div>
            </div>
        </div>
    </header>

    <section id="about" class="py-24 bg-white relative">
        <div class="absolute top-20 right-0 font-eng text-[10rem] lg:text-[15rem] font-bold text-gray-50 pointer-events-none select-none -z-10 leading-none opacity-70">TRUST</div>
        <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="flex flex-col lg:flex-row gap-16 items-center">
                <div class="w-full lg:w-1/2 order-2 lg:order-1">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="h-[2px] w-12 bg-jp-blue"></span>
                        <span class="font-eng text-jp-blue font-bold tracking-widest text-sm">WHO WE ARE</span>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-8 leading-snug">
                        乙兆營造 <br>
                        <span class="text-xl font-normal text-gray-500 mt-2 block">堅持品質，始終如一的承諾</span>
                    </h2>
                    <p class="text-gray-600 mb-6 leading-loose text-justify">
                        建築不僅是工程，更是承載生活的容器。乙兆營造成立以來，秉持「誠信、安全、精準」的核心理念，致力於將每一項工程做到極致。
                    </p>
                    <ul class="grid grid-cols-2 gap-4 text-sm text-gray-600 font-medium">
                        <li class="flex items-center gap-2"><i class="fa-solid fa-square-check text-jp-blue"></i> 按圖施工保證</li>
                        <li class="flex items-center gap-2"><i class="fa-solid fa-square-check text-jp-blue"></i> 透明化估價</li>
                        <li class="flex items-center gap-2"><i class="fa-solid fa-square-check text-jp-blue"></i> 完整結構保固</li>
                        <li class="flex items-center gap-2"><i class="fa-solid fa-square-check text-jp-blue"></i> 嚴謹職安管理</li>
                    </ul>
                </div>
                <div class="w-full lg:w-1/2 order-1 lg:order-2">
                    <div class="relative pl-8 pt-8 lg:pl-12 lg:pt-12">
                        <div class="absolute top-0 left-0 w-32 h-32 border-t-4 border-l-4 border-jp-blue opacity-30"></div>
                        <img src="https://images.unsplash.com/photo-1541976590-713941681591?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" alt="Meeting" class="w-full h-auto object-cover rounded-sm shadow-2xl relative z-10">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="py-24 bg-jp-light">
        <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="text-center mb-16">
                <span class="font-eng text-jp-blue font-bold tracking-widest text-sm block mb-2">SERVICE</span>
                <h2 class="text-3xl font-bold text-gray-800">專業營建領域</h2>
                <div class="w-12 h-[2px] bg-jp-blue mx-auto mt-6"></div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white p-10 hover:-translate-y-2 transition duration-500 shadow-sm border-t-4 border-transparent hover:border-jp-blue group">
                    <div class="text-5xl text-gray-200 mb-6 group-hover:text-jp-blue transition font-eng font-bold opacity-50">01</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-4">住宅新建工程</h3>
                    <p class="text-gray-500 text-sm leading-relaxed">針對自地自建客戶，提供從規劃建議到施工的一條龍服務。</p>
                </div>
                <div class="bg-white p-10 hover:-translate-y-2 transition duration-500 shadow-sm border-t-4 border-transparent hover:border-jp-blue group">
                    <div class="text-5xl text-gray-200 mb-6 group-hover:text-jp-blue transition font-eng font-bold opacity-50">02</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-4">廠辦與鋼構工程</h3>
                    <p class="text-gray-500 text-sm leading-relaxed">專精 H 型鋼結構吊裝與工業地坪施工。打造高效率生產基地。</p>
                </div>
                <div class="bg-white p-10 hover:-translate-y-2 transition duration-500 shadow-sm border-t-4 border-transparent hover:border-jp-blue group">
                    <div class="text-5xl text-gray-200 mb-6 group-hover:text-jp-blue transition font-eng font-bold opacity-50">03</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-4">公共工程 / 土木</h3>
                    <p class="text-gray-500 text-sm leading-relaxed">參與各類基礎建設與危老重建。引進精密測量儀器確保安全。</p>
                </div>
            </div>
        </div>
    </section>

    <section id="ongoing" class="py-24 bg-gray-50 border-b border-gray-200 overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="flex flex-wrap justify-between items-end mb-12 gap-4">
                <div>
                    <span class="font-eng text-jp-blue font-bold tracking-widest text-sm block mb-2 flex items-center gap-2">
                        <span class="relative flex h-3 w-3">
                          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                          <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
                        </span>
                        ON-SITE NOW
                    </span>
                    <h2 class="text-3xl font-bold text-gray-800">目前施工案場</h2>
                </div>
                <div class="flex gap-2">
                    <button onclick="scrollOngoing('left')" class="w-10 h-10 rounded-full bg-white border border-gray-200 text-gray-400 hover:border-jp-blue hover:text-jp-blue shadow-sm transition flex items-center justify-center"><i class="fa-solid fa-chevron-left"></i></button>
                    <button onclick="scrollOngoing('right')" class="w-10 h-10 rounded-full bg-white border border-gray-200 text-gray-400 hover:border-jp-blue hover:text-jp-blue shadow-sm transition flex items-center justify-center"><i class="fa-solid fa-chevron-right"></i></button>
                </div>
            </div>
            <div id="ongoing-slider" 
                 class="flex gap-6 overflow-x-auto pb-8 cursor-grab select-none no-scrollbar active:cursor-grabbing"
                 onmousedown="startOngoingDragging(event)" 
                 onmouseleave="stopOngoingDragging()" 
                 onmouseup="stopOngoingDragging()" 
                 onmousemove="ongoingDrag(event)">
                 </div>
        </div>
    </section>

    <section id="projects" class="py-24 bg-white overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 lg:px-12">
            <div class="flex flex-wrap justify-between items-end mb-12 border-b border-gray-100 pb-4 gap-4">
                <div>
                    <span class="font-eng text-jp-blue font-bold tracking-widest text-sm block mb-2">WORKS</span>
                    <h2 class="text-3xl font-bold text-gray-800">精選施工實績</h2>
                </div>
                <div class="flex gap-2">
                    <button onclick="scrollProjects('left')" class="w-10 h-10 rounded-full border border-gray-300 text-gray-400 hover:border-jp-blue hover:text-jp-blue hover:bg-jp-blue/5 transition flex items-center justify-center"><i class="fa-solid fa-chevron-left"></i></button>
                    <button onclick="scrollProjects('right')" class="w-10 h-10 rounded-full border border-gray-300 text-gray-400 hover:border-jp-blue hover:text-jp-blue hover:bg-jp-blue/5 transition flex items-center justify-center"><i class="fa-solid fa-chevron-right"></i></button>
                </div>
            </div>

            <div id="projects-slider" 
                 class="flex gap-8 overflow-x-auto pb-8 cursor-grab select-none no-scrollbar active:cursor-grabbing"
                 onmousedown="startDragging(event)" 
                 onmouseleave="stopDragging()" 
                 onmouseup="stopDragging()" 
                 onmousemove="drag(event)">
                 
                 <div id="projects-container-inner" class="flex gap-8"></div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-24 bg-gray-50 relative overflow-hidden">
        <div class="absolute inset-0 opacity-[0.03] bg-[url('https://www.transparenttextures.com/patterns/concrete-wall.png')]"></div>
        <div class="max-w-7xl mx-auto px-6 lg:px-12 relative z-10">
            <div class="bg-white shadow-2xl overflow-hidden flex flex-col lg:flex-row rounded-sm">
                <div class="lg:w-2/5 p-12 bg-jp-blue text-white relative flex flex-col justify-between">
                    <div class="relative z-10">
                        <span class="font-eng font-bold tracking-widest text-sm opacity-60 block mb-6 flex items-center gap-2"><span class="h-[1px] w-6 bg-white/60"></span> CONTACT US</span>
                        <h2 class="text-3xl font-bold mb-8 leading-snug">啟動您的<br>營建計畫</h2>
                        <div class="space-y-8 font-medium">
                            <div class="flex items-start group">
                                <div class="w-10 h-10 border border-white/20 flex items-center justify-center rounded-sm mr-4 group-hover:bg-white group-hover:text-jp-blue transition"><i class="fa-solid fa-location-dot"></i></div>
                                <div><h4 class="font-bold text-xs opacity-60 mb-1 font-eng tracking-wider">ADDRESS</h4><p class="text-lg">台中市北屯區<br>祥順路一段433號</p></div>
                            </div>
                            <div class="flex items-start group">
                                 <div class="w-10 h-10 border border-white/20 flex items-center justify-center rounded-sm mr-4 group-hover:bg-white group-hover:text-jp-blue transition"><i class="fa-solid fa-phone"></i></div>
                                <div><h4 class="font-bold text-xs opacity-60 mb-1 font-eng tracking-wider">PHONE</h4><p class="text-2xl font-bold tracking-widest">04-23960066</p></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="lg:w-3/5 p-12 lg:p-16 bg-white relative">
                     <h3 class="text-2xl font-bold text-gray-800 mb-8">線上諮詢估價</h3>
                    <form action="#" method="POST" class="space-y-8" onsubmit="alert('感謝諮詢，請直接來電。'); return false;">
                        <div class="grid grid-cols-2 gap-6">
                            <div><label class="block text-xs font-bold text-gray-500 tracking-wider mb-2">姓名 *</label><input type="text" required class="w-full border-b border-gray-200 py-3 focus:outline-none focus:border-jp-blue transition bg-transparent text-gray-800"></div>
                             <div><label class="block text-xs font-bold text-gray-500 tracking-wider mb-2">電話 *</label><input type="tel" required class="w-full border-b border-gray-200 py-3 focus:outline-none focus:border-jp-blue transition bg-transparent text-gray-800"></div>
                        </div>
                        <div><label class="block text-xs font-bold text-gray-500 tracking-wider mb-2">需求描述</label><textarea class="w-full border-b border-gray-200 py-3 focus:outline-none focus:border-jp-blue transition bg-transparent h-24 resize-none text-gray-800"></textarea></div>
                        <button type="submit" class="bg-gray-800 text-white px-12 py-4 w-full md:w-auto mt-4 hover:bg-jp-blue transition text-sm font-bold tracking-[0.2em] rounded-sm shadow-lg flex items-center justify-center gap-3">發送諮詢 <i class="fa-solid fa-arrow-right"></i></button>
                    </form>
                </div>
            </div>
            <div class="mt-16 h-96 w-full bg-gray-100 rounded-sm overflow-hidden shadow-lg border-4 border-white">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3640.797177230017!2d120.72153537595432!3d24.14374937355367!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x34691d10059773e7%3A0x2b5473117278067d!2zNDA25Y-w5Lit5biC5YyX5bGv5Y2A56Wl6aCG6Lev5LiA5q61NDMz6Jmf!5e0!3m2!1szh-TW!2stw!4v1700000000000!5m2!1szh-TW!2stw" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </section>

    <footer class="bg-white border-t border-gray-100 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-6 lg:px-12 text-center">
            <img src="logo.png" alt="Logo" class="h-10 mx-auto mb-6 opacity-90">
            <div class="flex justify-center gap-8 mb-8 text-sm text-gray-600 font-eng font-bold tracking-widest">
                <a href="#about" class="hover:text-jp-blue transition">ABOUT</a>
                <a href="#services" class="hover:text-jp-blue transition">SERVICES</a>
                <a href="#projects" class="hover:text-jp-blue transition">WORKS</a>
                <a href="#contact" class="hover:text-jp-blue transition">CONTACT</a>
            </div>
            <p class="text-xs text-gray-400 font-medium tracking-wider">© 2025 Yi Zhao Construction Co., Ltd. All Rights Reserved.</p>
        </div>
    </footer>

    <div id="lightbox-modal" class="lightbox-modal fixed inset-0 z-[60] bg-black/90 hidden items-center justify-center p-4 md:p-12 backdrop-blur-sm">
        <button onclick="closeLightbox()" class="absolute top-6 right-6 text-white text-4xl hover:text-jp-blue transition z-[70]"><i class="fa-solid fa-xmark"></i></button>
        <div class="bg-white w-full max-w-6xl max-h-full overflow-hidden rounded-sm shadow-2xl flex flex-col">
            <div class="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50">
                <h3 id="lightbox-title" class="text-2xl font-bold text-gray-800">專案標題</h3>
                <span class="text-sm text-jp-blue font-eng tracking-widest font-bold">PROJECT GALLERY</span>
            </div>
            <div id="lightbox-content" class="p-6 overflow-y-auto no-scrollbar flex-grow bg-gray-100"></div>
        </div>
    </div>

    <script>
        function toggleMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }

        // ==========================================
        //  資料庫：所有專案的「封面」與「相簿」設定
        // ==========================================
        
        // 1. 施工現場 (Ongoing) 資料
        const ongoingData = [
            { 
                id: 'ongoing1', // 唯一ID
                location: '台中市大里區', 
                project: '禾原建設 慈德路住宅興建工程', 
                stage: '外牆磚貼磚完成', 
                date: '2025.11.15', 
                cover: 'images/onsite1/o1-1.jpg', 
                tagColor: 'bg-blue-600',
                // 相簿：可以混合圖片與影片 (.mp4)
                gallery: [
                    'images/onsite1/o1-1.jpg',
                    // 如果您有影片，請像這樣加入檔案路徑 (請確保檔案在您的資料夾中)
                    // 'images/video-sample.mp4' 
                ]
            },
            { 
                id: 'ongoing2',
                location: '台中市南屯區', 
                project: '林宅興建工程', 
                stage: '表面塗裝準備 室內外資材整理', 
                date: '2025.11.29', 
                cover: 'images/onsite2/o2-1.jpg', 
                tagColor: 'bg-orange-500',
                gallery: [
                    'images/onsite2/o2-1.jpg',
                ]
            },
            { 
                id: 'ongoing3',
                location: '台中市神岡神岡區', 
                project: '大金塑膠廠房新建工程', 
                stage: '鋼構補漆完成', 
                date: '2025.11.15', 
                cover: 'images/onsite3/o3-1.jpg', 
                tagColor: 'bg-green-600',
                gallery: [
                    'images/onsite3/o3-1.jpg',
                ]
            },
        ];

        // 2. 完工實績 (Completed Projects) 資料
        const projectData = [
            { 
                id: 'project1',
                title: '富邦媒體物流', 
                type: 'FACTORY',
                cover: 'images/p1/p1-1.jpg',
                gallery: [
    'images/p1/p1-1.jpg',      // 照片
    'images/p1/p1-2.jpg',      // 照片
    'https://www.youtube.com/watch?v=owcDvDtcKk4',      // 照片
]          
},
            { 
                id: 'project2',
                title: '世界健身中心 太平店', 
                type: 'FACTORY',
                cover: 'images/p2/p2-1.jpg',
                gallery: [
    'images/p2/p2-1.jpg',      // 照片
    'images/p2/p2-2.jpg',      // 照片
]          
            },
            { 
                id: 'project3',
                title: '佳陞科技', 
                type: 'RENOVATION',
                cover: 'images/p3/p3-1.jpg',
                gallery: [
    'images/p3/p3-1.jpg',      // 照片
    'images/p3/p3-2.jpg',      // 照片
]          
            },
        ];


// ==========================================
        //  渲染邏輯 (修正版：手機 60% 寬度)
        // ==========================================

        function renderOngoingProjects() {
            const container = document.getElementById('ongoing-slider');
            if (!container) return;
            container.classList.remove('items-start'); 
            
            container.innerHTML = ongoingData.map(item => `
                <div class="min-w-[60%] md:min-w-[40%] lg:min-w-[30%] flex-shrink-0 bg-white rounded-sm shadow-sm hover:shadow-md transition duration-300 border border-gray-100 group cursor-pointer"
                     onclick="openOngoingLightbox('${item.id}')">
                    
                    <div class="relative w-full aspect-[4/3] md:aspect-auto md:h-72 overflow-hidden rounded-t-sm pointer-events-none">
                        <img src="${item.cover}" alt="${item.project}" class="w-full h-full object-cover transform transition duration-700 group-hover:scale-105">
                        
                        <div class="absolute top-4 left-4 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-sm shadow-sm flex items-center gap-1">
                            <i class="fa-solid fa-person-digging"></i> 施工中
                        </div>
                        <div class="absolute bottom-0 right-0 bg-black/60 text-white text-xs px-3 py-1 backdrop-blur-sm font-eng">
                            ${item.date}
                        </div>
                        
                        <div class="absolute inset-0 bg-jp-blue/0 md:group-hover:bg-jp-blue/20 transition duration-500 hidden md:flex items-center justify-center">
                             <i class="fa-solid fa-images text-white text-3xl opacity-0 md:group-hover:opacity-100 transition transform translate-y-4 md:group-hover:translate-y-0"></i>
                        </div>
                    </div>
                    <div class="p-6 pointer-events-none">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-xs font-bold text-gray-400 font-eng tracking-wider"><i class="fa-solid fa-location-dot mr-1"></i> ${item.location}</span>
                            <span class="${item.tagColor} text-white text-[10px] px-2 py-0.5 rounded-sm font-bold tracking-wider">${item.stage}</span>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 group-hover:text-jp-blue transition">${item.project}</h3>
                    </div>
                </div>
            `).join('');
        }

        function renderCompletedProjects() {
             const slider = document.getElementById('projects-slider');
             if (!slider) return;
             slider.classList.remove('items-start');

             slider.innerHTML = projectData.map(item => `
                <div class="min-w-[60%] md:min-w-[45%] lg:min-w-[30%] flex-shrink-0 group cursor-pointer" onclick="openLightbox('${item.id}')">
                    
                    <div class="overflow-hidden mb-4 relative rounded-sm shadow-md pointer-events-none w-full aspect-[4/3] md:aspect-auto md:h-72">
                        <img src="${item.cover}" alt="${item.title}" class="w-full h-full object-cover transform transition duration-700 group-hover:scale-105">
                        
                        <div class="absolute inset-0 bg-jp-blue/0 md:group-hover:bg-jp-blue/40 transition duration-500 hidden md:flex items-center justify-center">
                            <i class="fa-solid fa-images text-white text-3xl opacity-0 md:group-hover:opacity-100 transition transform translate-y-4 md:group-hover:translate-y-0"></i>
                        </div>
                    </div>
                    <div class="flex flex-col pl-4 border-l-2 border-gray-200 group-hover:border-jp-blue transition duration-300 pointer-events-none">
                        <span class="text-xs text-jp-blue font-bold tracking-wider mb-1">${item.type}</span>
                        <h3 class="text-lg font-bold text-gray-800 group-hover:text-jp-blue transition">${item.title}</h3>
                    </div>
                </div>
             `).join('');
        }

        // ==========================================
        //  滑動邏輯 (Slider Drag)
        // ==========================================
        
        // Ongoing Slider
        const ongoingSlider = document.getElementById('ongoing-slider');
        let isOngoingDown = false, startOngoingX, scrollOngoingLeft, isOngoingDragging = false; 

        function startOngoingDragging(e) {
            isOngoingDown = true; isOngoingDragging = false;
            startOngoingX = e.pageX - ongoingSlider.offsetLeft;
            scrollOngoingLeft = ongoingSlider.scrollLeft;
        }
        function stopOngoingDragging() { 
            isOngoingDown = false; 
            setTimeout(() => isOngoingDragging = false, 50);
        }
        function ongoingDrag(e) {
            if (!isOngoingDown) return;
            e.preventDefault(); isOngoingDragging = true;
            const x = e.pageX - ongoingSlider.offsetLeft;
            const walk = (x - startOngoingX) * 2;
            ongoingSlider.scrollLeft = scrollOngoingLeft - walk;
        }
        function scrollOngoing(direction) {
            const scrollAmount = 350;
            if (direction === 'left') ongoingSlider.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            else ongoingSlider.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        }

        // Project Slider
        const projectSlider = document.getElementById('projects-slider');
        let isProjectDown = false, startProjectX, scrollProjectLeft, isProjectDragging = false; 

        function startDragging(e) {
            isProjectDown = true; isProjectDragging = false;
            startProjectX = e.pageX - projectSlider.offsetLeft;
            scrollProjectLeft = projectSlider.scrollLeft;
        }
        function stopDragging() { 
            isProjectDown = false; 
            setTimeout(() => isProjectDragging = false, 50);
        }
        function drag(e) {
            if (!isProjectDown) return;
            e.preventDefault(); isProjectDragging = true;
            const x = e.pageX - projectSlider.offsetLeft;
            const walk = (x - startProjectX) * 2;
            projectSlider.scrollLeft = scrollProjectLeft - walk;
        }
        function scrollProjects(direction) {
            const scrollAmount = 400;
            if (direction === 'left') projectSlider.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            else projectSlider.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        }

        // ==========================================
        //  燈箱邏輯 (Lightbox) - 支援 YouTube & MP4
        // ==========================================
        
        function openLightbox(id) {
            if (isProjectDragging) return;
            const data = projectData.find(p => p.id === id);
            openGalleryModal(data);
        }
        function openOngoingLightbox(id) {
            if (isOngoingDragging) return;
            const data = ongoingData.find(p => p.id === id);
            openGalleryModal(data);
        }

        function openGalleryModal(data) {
            if (!data) return;
            const modal = document.getElementById('lightbox-modal');
            document.getElementById('lightbox-title').textContent = data.title || data.project;
            
            document.getElementById('lightbox-content').innerHTML = '<div class="grid grid-cols-1 md:grid-cols-2 gap-6">' + 
                data.gallery.map(src => {
                    const lowerSrc = src.toLowerCase();
                    if (src.includes('youtube.com') || src.includes('youtu.be')) {
                        let videoId = src.includes('youtu.be') ? src.split('/').pop() : new URLSearchParams(new URL(src).search).get('v');
                        return `<div class="rounded-sm overflow-hidden shadow-md bg-black aspect-video relative"><iframe class="absolute inset-0 w-full h-full" src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe></div>`;
                    } else if (lowerSrc.endsWith('.mp4')) {
                        return `<div class="rounded-sm overflow-hidden shadow-md bg-black"><video controls class="w-full h-auto"><source src="${src}" type="video/mp4"></video></div>`;
                    } else {
                        return `<div class="rounded-sm overflow-hidden shadow-md"><img src="${src}" class="w-full h-auto object-cover hover:scale-105 transition duration-700"></div>`;
                    }
                }).join('') + '</div>';

            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const modal = document.getElementById('lightbox-modal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.body.style.overflow = 'auto';
        }
        document.getElementById('lightbox-modal').addEventListener('click', function(e) { if (e.target === this) closeLightbox(); });

        window.addEventListener('DOMContentLoaded', () => {
            renderOngoingProjects();
            renderCompletedProjects();
        });
    </script>    
    </body>
</html>